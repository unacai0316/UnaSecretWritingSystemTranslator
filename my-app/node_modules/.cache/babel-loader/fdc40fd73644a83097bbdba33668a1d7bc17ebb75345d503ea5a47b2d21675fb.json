{"ast":null,"code":"var nextTick = require('./next-tick');\nfunction AbstractChainedBatch(db) {\n  if (typeof db !== 'object' || db === null) {\n    throw new TypeError('First argument must be an abstract-leveldown compliant store');\n  }\n  this.db = db;\n  this._operations = [];\n  this._written = false;\n}\nAbstractChainedBatch.prototype._checkWritten = function () {\n  if (this._written) {\n    throw new Error('write() already called on this batch');\n  }\n};\nAbstractChainedBatch.prototype.put = function (key, value) {\n  this._checkWritten();\n  var err = this.db._checkKey(key) || this.db._checkValue(value);\n  if (err) throw err;\n  key = this.db._serializeKey(key);\n  value = this.db._serializeValue(value);\n  this._put(key, value);\n  return this;\n};\nAbstractChainedBatch.prototype._put = function (key, value) {\n  this._operations.push({\n    type: 'put',\n    key: key,\n    value: value\n  });\n};\nAbstractChainedBatch.prototype.del = function (key) {\n  this._checkWritten();\n  var err = this.db._checkKey(key);\n  if (err) throw err;\n  key = this.db._serializeKey(key);\n  this._del(key);\n  return this;\n};\nAbstractChainedBatch.prototype._del = function (key) {\n  this._operations.push({\n    type: 'del',\n    key: key\n  });\n};\nAbstractChainedBatch.prototype.clear = function () {\n  this._checkWritten();\n  this._clear();\n  return this;\n};\nAbstractChainedBatch.prototype._clear = function () {\n  this._operations = [];\n};\nAbstractChainedBatch.prototype.write = function (options, callback) {\n  this._checkWritten();\n  if (typeof options === 'function') {\n    callback = options;\n  }\n  if (typeof callback !== 'function') {\n    throw new Error('write() requires a callback argument');\n  }\n  if (typeof options !== 'object' || options === null) {\n    options = {};\n  }\n  this._written = true;\n  this._write(options, callback);\n};\nAbstractChainedBatch.prototype._write = function (options, callback) {\n  this.db._batch(this._operations, options, callback);\n};\n\n// Expose browser-compatible nextTick for dependents\nAbstractChainedBatch.prototype._nextTick = nextTick;\nmodule.exports = AbstractChainedBatch;","map":{"version":3,"names":["nextTick","require","AbstractChainedBatch","db","TypeError","_operations","_written","prototype","_checkWritten","Error","put","key","value","err","_checkKey","_checkValue","_serializeKey","_serializeValue","_put","push","type","del","_del","clear","_clear","write","options","callback","_write","_batch","_nextTick","module","exports"],"sources":["/Users/tsaiyunzhen/my-react-app/my-app/node_modules/abstract-leveldown/abstract-chained-batch.js"],"sourcesContent":["var nextTick = require('./next-tick')\n\nfunction AbstractChainedBatch (db) {\n  if (typeof db !== 'object' || db === null) {\n    throw new TypeError('First argument must be an abstract-leveldown compliant store')\n  }\n\n  this.db = db\n  this._operations = []\n  this._written = false\n}\n\nAbstractChainedBatch.prototype._checkWritten = function () {\n  if (this._written) {\n    throw new Error('write() already called on this batch')\n  }\n}\n\nAbstractChainedBatch.prototype.put = function (key, value) {\n  this._checkWritten()\n\n  var err = this.db._checkKey(key) || this.db._checkValue(value)\n  if (err) throw err\n\n  key = this.db._serializeKey(key)\n  value = this.db._serializeValue(value)\n\n  this._put(key, value)\n\n  return this\n}\n\nAbstractChainedBatch.prototype._put = function (key, value) {\n  this._operations.push({ type: 'put', key: key, value: value })\n}\n\nAbstractChainedBatch.prototype.del = function (key) {\n  this._checkWritten()\n\n  var err = this.db._checkKey(key)\n  if (err) throw err\n\n  key = this.db._serializeKey(key)\n  this._del(key)\n\n  return this\n}\n\nAbstractChainedBatch.prototype._del = function (key) {\n  this._operations.push({ type: 'del', key: key })\n}\n\nAbstractChainedBatch.prototype.clear = function () {\n  this._checkWritten()\n  this._clear()\n\n  return this\n}\n\nAbstractChainedBatch.prototype._clear = function () {\n  this._operations = []\n}\n\nAbstractChainedBatch.prototype.write = function (options, callback) {\n  this._checkWritten()\n\n  if (typeof options === 'function') { callback = options }\n  if (typeof callback !== 'function') {\n    throw new Error('write() requires a callback argument')\n  }\n  if (typeof options !== 'object' || options === null) {\n    options = {}\n  }\n\n  this._written = true\n  this._write(options, callback)\n}\n\nAbstractChainedBatch.prototype._write = function (options, callback) {\n  this.db._batch(this._operations, options, callback)\n}\n\n// Expose browser-compatible nextTick for dependents\nAbstractChainedBatch.prototype._nextTick = nextTick\n\nmodule.exports = AbstractChainedBatch\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}