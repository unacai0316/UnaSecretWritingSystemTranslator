{"ast":null,"code":"var duplexify = require('duplexify');\nvar abstract = require('abstract-leveldown');\nvar util = require('util');\nvar eos = require('end-of-stream');\nvar ids = require('numeric-id-map');\nvar lpstream = require('length-prefixed-stream');\nvar reachdown = require('reachdown');\nvar messages = require('./messages');\nvar matchdown = require('./matchdown');\nvar ENCODERS = [messages.Get, messages.Put, messages.Delete, messages.Batch, messages.Iterator];\nvar DECODERS = [messages.Callback, messages.IteratorData];\nmodule.exports = Multilevel;\nfunction Multilevel(opts) {\n  if (!(this instanceof Multilevel)) return new Multilevel(opts);\n  abstract.AbstractLevelDOWN.call(this);\n  if (!opts) opts = {};\n  this._iterators = ids();\n  this._requests = ids();\n  this._retry = !!opts.retry;\n  this._onflush = opts.onflush || noop;\n  this._encode = lpstream.encode();\n  this._streaming = null;\n  this._ref = null;\n  this._db = null;\n}\nutil.inherits(Multilevel, abstract.AbstractLevelDOWN);\nMultilevel.prototype.type = 'multileveldown';\nMultilevel.prototype.createRpcStream = function (opts, proxy) {\n  if (this._streaming) throw new Error('Only one rpc stream can be active');\n  if (!opts) opts = {};\n  this._ref = opts.ref || null;\n  var self = this;\n  var encode = this._encode;\n  var decode = lpstream.decode();\n  decode.on('data', function (data) {\n    if (!data.length) return;\n    var tag = data[0];\n    if (tag >= DECODERS.length) return;\n    var dec = DECODERS[tag];\n    try {\n      var res = dec.decode(data, 1);\n    } catch (err) {\n      return;\n    }\n    switch (tag) {\n      case 0:\n        oncallback(res);\n        break;\n      case 1:\n        oniteratordata(res);\n        break;\n    }\n    self._flushMaybe();\n  });\n  if (!proxy) proxy = duplexify();\n  proxy.setWritable(decode);\n  proxy.setReadable(encode);\n  eos(proxy, cleanup);\n  this._streaming = proxy;\n  return proxy;\n  function cleanup() {\n    self._streaming = null;\n    self._encode = lpstream.encode();\n    if (!self._retry) {\n      self._clearRequests(false);\n      self._flushMaybe();\n      return;\n    }\n    for (var i = 0; i < self._requests.length; i++) {\n      var req = self._requests.get(i);\n      if (!req) continue;\n      self._write(req);\n    }\n    for (var j = 0; j < self._iterators.length; j++) {\n      var ite = self._iterators.get(j);\n      if (!ite) continue;\n      ite.options = ite.iterator._options;\n      self._write(ite);\n    }\n  }\n  function oniteratordata(res) {\n    var req = self._iterators.get(res.id);\n    if (!req) return;\n    req.pending.push(res);\n    if (req.callback) req.iterator.next(req.callback);\n  }\n  function oncallback(res) {\n    var req = self._requests.remove(res.id);\n    if (req) req.callback(decodeError(res.error), decodeValue(res.value, req.valueAsBuffer));\n  }\n};\nMultilevel.prototype.forward = function (down) {\n  this._db = reachdown(down, matchdown, false);\n};\nMultilevel.prototype.isFlushed = function () {\n  return !this._requests.length && !this._iterators.length;\n};\nMultilevel.prototype._flushMaybe = function () {\n  if (!this.isFlushed()) return;\n  this._onflush();\n  unref(this._ref);\n};\nMultilevel.prototype._clearRequests = function (closing) {\n  for (var i = 0; i < this._requests.length; i++) {\n    var req = this._requests.remove(i);\n    if (req) req.callback(new Error('Connection to leader lost'));\n  }\n  for (var j = 0; j < this._iterators.length; j++) {\n    var ite = this._iterators.remove(j);\n    if (ite) {\n      if (ite.callback && !closing) ite.callback(new Error('Connection to leader lost'));\n      ite.iterator.end();\n    }\n  }\n};\nMultilevel.prototype._serializeKey = function (key) {\n  return Buffer.isBuffer(key) ? key : Buffer.from(String(key));\n};\nMultilevel.prototype._serializeValue = function (value) {\n  return Buffer.isBuffer(value) ? value : Buffer.from(String(value));\n};\nMultilevel.prototype._get = function (key, opts, cb) {\n  if (this._db) return this._db._get(key, opts, cb);\n  var req = {\n    tag: 0,\n    id: 0,\n    key: key,\n    valueAsBuffer: opts.asBuffer,\n    callback: cb || noop\n  };\n  req.id = this._requests.add(req);\n  this._write(req);\n};\nMultilevel.prototype._put = function (key, value, opts, cb) {\n  if (this._db) return this._db._put(key, value, opts, cb);\n  var req = {\n    tag: 1,\n    id: 0,\n    key: key,\n    value: value,\n    callback: cb || noop\n  };\n  req.id = this._requests.add(req);\n  this._write(req);\n};\nMultilevel.prototype._del = function (key, opts, cb) {\n  if (this._db) return this._db._del(key, opts, cb);\n  var req = {\n    tag: 2,\n    id: 0,\n    key: key,\n    callback: cb || noop\n  };\n  req.id = this._requests.add(req);\n  this._write(req);\n};\nMultilevel.prototype._batch = function (batch, opts, cb) {\n  if (this._db) return this._db._batch(batch, opts, cb);\n  var req = {\n    tag: 3,\n    id: 0,\n    ops: batch,\n    callback: cb || noop\n  };\n  req.id = this._requests.add(req);\n  this._write(req);\n};\nMultilevel.prototype._write = function (req) {\n  if (this._requests.length + this._iterators.length === 1) ref(this._ref);\n  var enc = ENCODERS[req.tag];\n  var buf = Buffer.allocUnsafe(enc.encodingLength(req) + 1);\n  buf[0] = req.tag;\n  enc.encode(req, buf, 1);\n  this._encode.write(buf);\n};\nMultilevel.prototype._close = function (cb) {\n  if (this._db) return this._db._close(cb);\n  this._clearRequests(true);\n  if (this._streaming) {\n    this._streaming.once('close', cb);\n    this._streaming.destroy();\n  } else {\n    process.nextTick(cb);\n  }\n};\nMultilevel.prototype._iterator = function (opts) {\n  if (this._db) return this._db._iterator(opts);\n  return new Iterator(this, opts);\n};\nfunction noop() {}\n\n// TODO: extend AbstractIterator, passing db to ctor\nfunction Iterator(parent, opts) {\n  this._parent = parent;\n  this._keyAsBuffer = opts.keyAsBuffer;\n  this._valueAsBuffer = opts.valueAsBuffer;\n  this._options = opts;\n  var req = {\n    tag: 4,\n    id: 0,\n    batch: 32,\n    pending: [],\n    iterator: this,\n    options: opts,\n    callback: null\n  };\n  req.id = parent._iterators.add(req);\n  this._read = 0;\n  this._ack = Math.floor(req.batch / 2);\n  this._req = req;\n  this._parent._write(req);\n}\nIterator.prototype.next = function (cb) {\n  this._req.callback = null;\n  if (this._req.pending.length) {\n    this._read++;\n    if (this._read >= this._ack) {\n      this._read = 0;\n      this._req.options = null;\n      this._parent._write(this._req);\n    }\n    var next = this._req.pending.shift();\n    if (next.error) return cb(decodeError(next.error));\n    if (!next.key && !next.value) return cb();\n    this._options.gt = next.key;\n    if (this._options.limit > 0) this._options.limit--;\n    var key = decodeValue(next.key, this._keyAsBuffer);\n    var val = decodeValue(next.value, this._valueAsBuffer);\n    return cb(undefined, key, val);\n  }\n  this._req.callback = cb;\n};\nIterator.prototype.end = function (cb) {\n  this._req.batch = 0;\n  this._parent._write(this._req);\n  this._parent._iterators.remove(this._req.id);\n  this._parent._flushMaybe();\n  if (cb) process.nextTick(cb);\n};\nfunction decodeError(err) {\n  return err ? new Error(err) : null;\n}\nfunction decodeValue(val, asBuffer) {\n  if (!val) return undefined;\n  return asBuffer ? val : val.toString();\n}\nfunction ref(r) {\n  if (r && r.ref) r.ref();\n}\nfunction unref(r) {\n  if (r && r.unref) r.unref();\n}","map":{"version":3,"names":["duplexify","require","abstract","util","eos","ids","lpstream","reachdown","messages","matchdown","ENCODERS","Get","Put","Delete","Batch","Iterator","DECODERS","Callback","IteratorData","module","exports","Multilevel","opts","AbstractLevelDOWN","call","_iterators","_requests","_retry","retry","_onflush","onflush","noop","_encode","encode","_streaming","_ref","_db","inherits","prototype","type","createRpcStream","proxy","Error","ref","self","decode","on","data","length","tag","dec","res","err","oncallback","oniteratordata","_flushMaybe","setWritable","setReadable","cleanup","_clearRequests","i","req","get","_write","j","ite","options","iterator","_options","id","pending","push","callback","next","remove","decodeError","error","decodeValue","value","valueAsBuffer","forward","down","isFlushed","unref","closing","end","_serializeKey","key","Buffer","isBuffer","from","String","_serializeValue","_get","cb","asBuffer","add","_put","_del","_batch","batch","ops","enc","buf","allocUnsafe","encodingLength","write","_close","once","destroy","process","nextTick","_iterator","parent","_parent","_keyAsBuffer","keyAsBuffer","_valueAsBuffer","_read","_ack","Math","floor","_req","shift","gt","limit","val","undefined","toString","r"],"sources":["/Users/tsaiyunzhen/my-react-app/my-app/node_modules/multileveldown/leveldown.js"],"sourcesContent":["var duplexify = require('duplexify')\nvar abstract = require('abstract-leveldown')\nvar util = require('util')\nvar eos = require('end-of-stream')\nvar ids = require('numeric-id-map')\nvar lpstream = require('length-prefixed-stream')\nvar reachdown = require('reachdown')\nvar messages = require('./messages')\nvar matchdown = require('./matchdown')\n\nvar ENCODERS = [\n  messages.Get,\n  messages.Put,\n  messages.Delete,\n  messages.Batch,\n  messages.Iterator\n]\n\nvar DECODERS = [\n  messages.Callback,\n  messages.IteratorData\n]\n\nmodule.exports = Multilevel\n\nfunction Multilevel (opts) {\n  if (!(this instanceof Multilevel)) return new Multilevel(opts)\n  abstract.AbstractLevelDOWN.call(this)\n\n  if (!opts) opts = {}\n  this._iterators = ids()\n  this._requests = ids()\n  this._retry = !!opts.retry\n  this._onflush = opts.onflush || noop\n  this._encode = lpstream.encode()\n  this._streaming = null\n  this._ref = null\n  this._db = null\n}\n\nutil.inherits(Multilevel, abstract.AbstractLevelDOWN)\n\nMultilevel.prototype.type = 'multileveldown'\n\nMultilevel.prototype.createRpcStream = function (opts, proxy) {\n  if (this._streaming) throw new Error('Only one rpc stream can be active')\n  if (!opts) opts = {}\n  this._ref = opts.ref || null\n\n  var self = this\n  var encode = this._encode\n  var decode = lpstream.decode()\n\n  decode.on('data', function (data) {\n    if (!data.length) return\n    var tag = data[0]\n    if (tag >= DECODERS.length) return\n\n    var dec = DECODERS[tag]\n    try {\n      var res = dec.decode(data, 1)\n    } catch (err) {\n      return\n    }\n\n    switch (tag) {\n      case 0:\n        oncallback(res)\n        break\n\n      case 1:\n        oniteratordata(res)\n        break\n    }\n\n    self._flushMaybe()\n  })\n\n  if (!proxy) proxy = duplexify()\n  proxy.setWritable(decode)\n  proxy.setReadable(encode)\n  eos(proxy, cleanup)\n  this._streaming = proxy\n  return proxy\n\n  function cleanup () {\n    self._streaming = null\n    self._encode = lpstream.encode()\n\n    if (!self._retry) {\n      self._clearRequests(false)\n      self._flushMaybe()\n      return\n    }\n\n    for (var i = 0; i < self._requests.length; i++) {\n      var req = self._requests.get(i)\n      if (!req) continue\n      self._write(req)\n    }\n\n    for (var j = 0; j < self._iterators.length; j++) {\n      var ite = self._iterators.get(j)\n      if (!ite) continue\n      ite.options = ite.iterator._options\n      self._write(ite)\n    }\n  }\n\n  function oniteratordata (res) {\n    var req = self._iterators.get(res.id)\n    if (!req) return\n    req.pending.push(res)\n    if (req.callback) req.iterator.next(req.callback)\n  }\n\n  function oncallback (res) {\n    var req = self._requests.remove(res.id)\n    if (req) req.callback(decodeError(res.error), decodeValue(res.value, req.valueAsBuffer))\n  }\n}\n\nMultilevel.prototype.forward = function (down) {\n  this._db = reachdown(down, matchdown, false)\n}\n\nMultilevel.prototype.isFlushed = function () {\n  return !this._requests.length && !this._iterators.length\n}\n\nMultilevel.prototype._flushMaybe = function () {\n  if (!this.isFlushed()) return\n  this._onflush()\n  unref(this._ref)\n}\n\nMultilevel.prototype._clearRequests = function (closing) {\n  for (var i = 0; i < this._requests.length; i++) {\n    var req = this._requests.remove(i)\n    if (req) req.callback(new Error('Connection to leader lost'))\n  }\n\n  for (var j = 0; j < this._iterators.length; j++) {\n    var ite = this._iterators.remove(j)\n    if (ite) {\n      if (ite.callback && !closing) ite.callback(new Error('Connection to leader lost'))\n      ite.iterator.end()\n    }\n  }\n}\n\nMultilevel.prototype._serializeKey = function (key) {\n  return Buffer.isBuffer(key) ? key : Buffer.from(String(key))\n}\n\nMultilevel.prototype._serializeValue = function (value) {\n  return Buffer.isBuffer(value) ? value : Buffer.from(String(value))\n}\n\nMultilevel.prototype._get = function (key, opts, cb) {\n  if (this._db) return this._db._get(key, opts, cb)\n\n  var req = {\n    tag: 0,\n    id: 0,\n    key: key,\n    valueAsBuffer: opts.asBuffer,\n    callback: cb || noop\n  }\n\n  req.id = this._requests.add(req)\n  this._write(req)\n}\n\nMultilevel.prototype._put = function (key, value, opts, cb) {\n  if (this._db) return this._db._put(key, value, opts, cb)\n\n  var req = {\n    tag: 1,\n    id: 0,\n    key: key,\n    value: value,\n    callback: cb || noop\n  }\n\n  req.id = this._requests.add(req)\n  this._write(req)\n}\n\nMultilevel.prototype._del = function (key, opts, cb) {\n  if (this._db) return this._db._del(key, opts, cb)\n\n  var req = {\n    tag: 2,\n    id: 0,\n    key: key,\n    callback: cb || noop\n  }\n\n  req.id = this._requests.add(req)\n  this._write(req)\n}\n\nMultilevel.prototype._batch = function (batch, opts, cb) {\n  if (this._db) return this._db._batch(batch, opts, cb)\n\n  var req = {\n    tag: 3,\n    id: 0,\n    ops: batch,\n    callback: cb || noop\n  }\n\n  req.id = this._requests.add(req)\n  this._write(req)\n}\n\nMultilevel.prototype._write = function (req) {\n  if (this._requests.length + this._iterators.length === 1) ref(this._ref)\n  var enc = ENCODERS[req.tag]\n  var buf = Buffer.allocUnsafe(enc.encodingLength(req) + 1)\n  buf[0] = req.tag\n  enc.encode(req, buf, 1)\n  this._encode.write(buf)\n}\n\nMultilevel.prototype._close = function (cb) {\n  if (this._db) return this._db._close(cb)\n\n  this._clearRequests(true)\n  if (this._streaming) {\n    this._streaming.once('close', cb)\n    this._streaming.destroy()\n  } else {\n    process.nextTick(cb)\n  }\n}\n\nMultilevel.prototype._iterator = function (opts) {\n  if (this._db) return this._db._iterator(opts)\n  return new Iterator(this, opts)\n}\n\nfunction noop () {}\n\n// TODO: extend AbstractIterator, passing db to ctor\nfunction Iterator (parent, opts) {\n  this._parent = parent\n  this._keyAsBuffer = opts.keyAsBuffer\n  this._valueAsBuffer = opts.valueAsBuffer\n  this._options = opts\n\n  var req = {\n    tag: 4,\n    id: 0,\n    batch: 32,\n    pending: [],\n    iterator: this,\n    options: opts,\n    callback: null\n  }\n\n  req.id = parent._iterators.add(req)\n\n  this._read = 0\n  this._ack = Math.floor(req.batch / 2)\n  this._req = req\n  this._parent._write(req)\n}\n\nIterator.prototype.next = function (cb) {\n  this._req.callback = null\n\n  if (this._req.pending.length) {\n    this._read++\n    if (this._read >= this._ack) {\n      this._read = 0\n      this._req.options = null\n      this._parent._write(this._req)\n    }\n\n    var next = this._req.pending.shift()\n    if (next.error) return cb(decodeError(next.error))\n\n    if (!next.key && !next.value) return cb()\n\n    this._options.gt = next.key\n    if (this._options.limit > 0) this._options.limit--\n\n    var key = decodeValue(next.key, this._keyAsBuffer)\n    var val = decodeValue(next.value, this._valueAsBuffer)\n    return cb(undefined, key, val)\n  }\n\n  this._req.callback = cb\n}\n\nIterator.prototype.end = function (cb) {\n  this._req.batch = 0\n  this._parent._write(this._req)\n  this._parent._iterators.remove(this._req.id)\n  this._parent._flushMaybe()\n  if (cb) process.nextTick(cb)\n}\n\nfunction decodeError (err) {\n  return err ? new Error(err) : null\n}\n\nfunction decodeValue (val, asBuffer) {\n  if (!val) return undefined\n  return asBuffer ? val : val.toString()\n}\n\nfunction ref (r) {\n  if (r && r.ref) r.ref()\n}\n\nfunction unref (r) {\n  if (r && r.unref) r.unref()\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}